<div class="explanation">
  <% html = yield.gsub(/\^([\d\.]+|[a-z])/, '<sup>\1</sup>').gsub(/\A\n*/, '')
     html_rows = html.split(/\n|&#x000A;/)
     if html_rows.length > 0
       while html_rows.all? {|row| row[0] == " " || row[0].nil? }
         html_rows.each {|row| row[0] = "" }
       end
      end
     html = html_rows.join("\n").gsub(/&#x000A;/, '') %>
  <%= Redcarpet::Markdown.new(Redcarpet::Render::HTML).render(html).html_safe %>
</div>
